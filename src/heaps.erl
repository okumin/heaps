%% Copyright (c) 2015, Takeru Ohta <phjgt308@gmail.com>
%%
%% @doc Interface for heaps
-module(heaps).

%%----------------------------------------------------------------------------------------------------------------------
%% Exported API
%%----------------------------------------------------------------------------------------------------------------------
-export_type([heap/0, elem/0, fold_fun/0]).

%%----------------------------------------------------------------------------------------------------------------------
%% Types
%%----------------------------------------------------------------------------------------------------------------------
-type heap() :: term().
-type elem() :: term().
-type fold_fun() :: fun ((elem(), AccIn::term()) -> AccOut::term()).

%%----------------------------------------------------------------------------------------------------------------------
%% Callback API
%%----------------------------------------------------------------------------------------------------------------------
-callback new() -> heap().
-callback is_empty(heap()) -> boolean().
-callback in(elem(), heap()) -> heap().
-callback out(heap()) -> {{value, elem()} | empty, heap()}.
-callback fold(fold_fun(), Initial::term(), heap()) -> Result::term().
